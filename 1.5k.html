<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Inter&display=swap" rel="stylesheet" />
    <link href="./css/1.5kmain.css" rel="stylesheet" />
    <title>1.5k</title>
</head>
<style>
    /* Add pointer cursor to indicate it's clickable */
    .v96_1017 {
        cursor: pointer;
    }
    /* Add pointer cursor to indicate it's clickable */
    .v96_1018 {
        cursor: pointer;
    }

    /* Modal styles */
    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    .modal-content {
        background-color: #fefefe;
        margin: 15% auto; /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 80%; /* Could be more or less, depending on screen size */
    }

    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }
</style>
<body>
    <div class="v96_1004">
        <div class="v96_1005"></div>
        <div class="v96_1006"></div>
        <div class="v96_1007"></div>
        <div class="v96_1008"></div>
        <div class="v96_1009"></div>
        <div class="v96_1010"></div>
        <div class="v96_1011"></div>
        <div class="v96_1012"></div>
        <div class="v96_1013"></div>
        <div class="v96_1014"></div>
        <div class="v96_1015"></div>
        <div class="v96_1016"></div>
        <div class="v96_1017"></div>
        <div class="v96_1018"></div>
        <div class="v96_1019"></div>
        <div class="v96_1020"></div>
        <div class="v96_1021"></div>
        <div class="v96_1022"></div>
        <div class="v96_1023"></div>
        <div class="v96_1024"></div>
        <div class="v96_1025"></div>
        <div class="v96_1026"></div>
        <div class="v96_1027"></div>
        <div class="v96_1028"></div>
        <div class="v96_1029"></div>
        <div class="v96_1030"></div>
        <div class="v96_1031"></div>
        <div class="v96_1032"></div>
        <div class="v96_1033"></div>
        <div class="v96_1034"></div>
        <div class="v96_1035"></div>
        <div class="v96_1036"></div>
        <div class="v96_1037"></div>
        <div class="v96_1038"></div>
        <div class="v96_1039"></div>
        <div class="v96_1040"></div>
        <div class="v96_1041"></div>
        <div class="v96_1042"></div>
        <div class="v96_1043"></div>
        <div class="v96_1044"></div>
        <div class="v96_1045"></div>
        <div class="v96_1046"></div>
        <div class="v96_1047"></div>
        <div class="v96_1048"></div>
        <div class="v96_1049"></div>
        <div class="v96_1050"></div>
        <div class="v96_1051"></div>
        <div class="v96_1052"></div>
        <div class="v96_1053"></div>
        <div class="v96_1054"></div>
        <div class="v96_1055"></div>
        <div class="v96_1056"></div>
        <div class="v96_1057"></div>
        <div class="v96_1058"></div>
    </div>
    <div class="modal" id="myModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="receipt">
                <h1>ATM Receipt</h1>
                    <p>Date: <span id="date"></span></p>
                    <p>Time: <span id="time"></span></p>
                    <p>Transaction ID: <span id="transaction-id"></span></p>
                    <p><strong>Amount Withdrawn:</strong> $<span id="withdrawn-amount"></span></p>
                    <p><strong>Remaining Balance:</strong> $<span id="remaining-balance"></span></p>
                    <p>Account Number: <span id="account-number"></span></p>
                    <p>Thank you for using our ATM!</p>
                    <button id="ok-button">OK</button> <!-- OK button -->
            </div>
        </div>
    </div>
    
    <script>
         // Redirect to PIN Entry page when the clickable div is clicked
         document.querySelector('.v96_1018').addEventListener('click', function() {
            window.location.href = 'options.html';  // Adjust the file name/path as necessary
        });
document.querySelector('.v96_1017').addEventListener('click', function() {
    // Show the modal
    document.getElementById('myModal').style.display = "block";

   // Get the remaining balance from local storage
   let availableBalance = parseFloat(localStorage.getItem('availableBalance')) || 5000.000;

   // Populate the receipt data
   const now = new Date();
   const date = now.toISOString().split('T')[0];
   const time = now.toTimeString().split(' ')[0];
   const transactionId = Math.floor(Math.random() * 1000000);
   const urlParams = new URLSearchParams(window.location.search);
   const withdrawnAmount = parseFloat(urlParams.get('withdrawn')) || 0;

   // Calculate the remaining balance after withdrawal
   const remainingBalance = availableBalance - withdrawnAmount;

   // Display the amounts on the page
   document.getElementById('remaining-balance').textContent = remainingBalance.toFixed(3);
   document.getElementById("date").textContent = date;
   document.getElementById("time").textContent = time;
   document.getElementById('transaction-id').textContent = transactionId;
   document.getElementById('withdrawn-amount').textContent = withdrawnAmount.toFixed(3);
   document.getElementById("account-number").textContent = "123456789"; // Example account number
});
// Close the modal when the close button is clicked
document.querySelector('.close').addEventListener('click', function() {
    document.getElementById('myModal').style.display = "none";
});

// Close the modal when clicking outside of it
window.onclick = function(event) {
    const modal = document.getElementById('myModal');
    if (event.target == modal) {
        modal.style.display = "none";
    }
};

// Redirect to index.html when OK is clicked
document.getElementById('ok-button').addEventListener('click', function() {
    window.location.href = 'welcome page.html'; // Redirect to index.html
});
</script>
</body>
</html>